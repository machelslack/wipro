'use strict';

(function () {
  'use strict';

  var app = {
    isLoading: true,
    spinner: document.querySelector('.loader'),
    cardTemplate: document.querySelector('.cardTemplate'),
    container: document.querySelector('.main'),
    daysOfWeek: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  };

  app.updateForecastCard = function (data) {

    var dataLastUpdated = new Date(data.created);
    var sunrise = data.channel.astronomy.sunrise;
    var sunset = data.channel.astronomy.sunset;
    var current = data.channel.item.condition;
    var humidity = data.channel.atmosphere.humidity;
    var wind = data.channel.wind;
    app.cardTemplate.querySelector('.description').textContent = current.text;
    app.cardTemplate.querySelector('.date').textContent = current.date;
    app.cardTemplate.querySelector('.current .icon').classList.add(app.getIconClass(current.code));
    app.cardTemplate.querySelector('.current .temperature .value').textContent = Math.round(current.temp);
    app.cardTemplate.querySelector('.current .sunrise').textContent = sunrise;
    app.cardTemplate.querySelector('.current .sunset').textContent = sunset;
    app.cardTemplate.querySelector('.current .humidity').textContent = Math.round(humidity) + '%';
    app.cardTemplate.querySelector('.current .wind .value').textContent = Math.round(wind.speed);
    app.cardTemplate.querySelector('.current .wind .direction').textContent = wind.direction;
    var nextDays = cardTemplate.querySelectorAll('.future .oneday');
    var today = new Date();
    today = today.getDay();
    for (var i = 0; i < 7; i++) {
      var nextDay = nextDays[i];
      var daily = data.channel.item.forecast[i];
      if (daily && nextDay) {
        nextDay.querySelector('.date').textContent = app.daysOfWeek[(i + today) % 7];
        nextDay.querySelector('.icon').classList.add(app.getIconClass(daily.code));
        nextDay.querySelector('.temp-high .value').textContent = Math.round(daily.high);
        nextDay.querySelector('.temp-low .value').textContent = Math.round(daily.low);
      }
    }
    if (app.isLoading) {
      app.spinner.setAttribute('hidden', true);
      app.container.removeAttribute('hidden');
      app.isLoading = false;
    }
  };

  app.getIconClass = function (weatherCode) {
    // Weather codes: https://developer.yahoo.com/weather/documentation.html#codes
    weatherCode = parseInt(weatherCode);
    switch (weatherCode) {
      case 25:
      case 32:
      case 33:
      case 34:
      case 36:
      case 3200:
        return 'clear-day';
      case 0:
      case 1:
      case 2:
      case 6:
      case 8:
      case 9:
      case 10:
      case 11:
      case 12:
      case 17:
      case 35:
      case 40:
        return 'rain';
      case 3:
      case 4:
      case 37:
      case 38:
      case 39:
      case 45:
      case 47:
        return 'thunderstorms';
      case 5:
      case 7:
      case 13:
      case 14:
      case 16:
      case 18:
      case 41:
      case 42:
      case 43:
      case 46:
        return 'snow';
      case 15:
      case 19:
      case 20:
      case 21:
      case 22:
        return 'fog';
      case 24:
      case 23:
        return 'windy';
      case 26:
      case 27:
      case 28:
      case 31:
        return 'cloudy';
      case 29:
      case 30:
      case 44:
        return 'partly-cloudy-day';
    }
  };

  var initialWeatherForecast = {
    key: '2459115',
    label: 'New York, NY',
    created: '2016-07-22T01:00:00Z',
    channel: {
      astronomy: {
        sunrise: "5:43 am",
        sunset: "8:21 pm"
      },
      item: {
        condition: {
          text: "Windy",
          date: "Thu, 21 Jul 2016 09:00 PM EDT",
          temp: 56,
          code: 24
        },
        forecast: [{ code: 44, high: 86, low: 70 }, { code: 44, high: 94, low: 73 }, { code: 4, high: 95, low: 78 }, { code: 24, high: 75, low: 89 }, { code: 24, high: 89, low: 77 }, { code: 44, high: 92, low: 79 }, { code: 44, high: 89, low: 77 }]
      },
      atmosphere: {
        humidity: 56
      },
      wind: {
        speed: 25,
        direction: 195
      }
    }
  };

  app.updateForecastCard(initialWeatherForecast);
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYXBwIiwiaXNMb2FkaW5nIiwic3Bpbm5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmRUZW1wbGF0ZSIsImNvbnRhaW5lciIsImRheXNPZldlZWsiLCJ1cGRhdGVGb3JlY2FzdENhcmQiLCJkYXRhIiwiZGF0YUxhc3RVcGRhdGVkIiwiRGF0ZSIsImNyZWF0ZWQiLCJzdW5yaXNlIiwiY2hhbm5lbCIsImFzdHJvbm9teSIsInN1bnNldCIsImN1cnJlbnQiLCJpdGVtIiwiY29uZGl0aW9uIiwiaHVtaWRpdHkiLCJhdG1vc3BoZXJlIiwid2luZCIsInRleHRDb250ZW50IiwidGV4dCIsImRhdGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRJY29uQ2xhc3MiLCJjb2RlIiwiTWF0aCIsInJvdW5kIiwidGVtcCIsInNwZWVkIiwiZGlyZWN0aW9uIiwibmV4dERheXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9kYXkiLCJnZXREYXkiLCJpIiwibmV4dERheSIsImRhaWx5IiwiZm9yZWNhc3QiLCJoaWdoIiwibG93Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwid2VhdGhlckNvZGUiLCJwYXJzZUludCIsImluaXRpYWxXZWF0aGVyRm9yZWNhc3QiLCJrZXkiLCJsYWJlbCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFlBQVc7QUFDVjs7QUFFRSxNQUFNQSxNQUFNO0FBQ1pDLGVBQVcsSUFEQztBQUVaQyxhQUFTQyxTQUFTQyxhQUFULENBQXVCLFNBQXZCLENBRkc7QUFHWkMsa0JBQWNGLFNBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsQ0FIRjtBQUlaRSxlQUFXSCxTQUFTQyxhQUFULENBQXVCLE9BQXZCLENBSkM7QUFLWkcsZ0JBQVksQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsRUFBNkIsS0FBN0IsRUFBb0MsS0FBcEMsRUFBMkMsS0FBM0M7QUFMQSxHQUFaOztBQVFBUCxN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akIsRUFBcUJDLEtBQUssRUFBMUIsRUFQUTtBQVBOLE9BTEM7QUFzQlB2QixrQkFBWTtBQUNWRCxrQkFBVTtBQURBLE9BdEJMO0FBeUJQRSxZQUFNO0FBQ0pXLGVBQU8sRUFESDtBQUVKQyxtQkFBVztBQUZQO0FBekJDO0FBSmtCLEdBQTdCOztBQXFDRmxDLE1BQUlRLGtCQUFKLENBQXVCeUMsc0JBQXZCO0FBRUMsQ0EvSkQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgY29uc3QgYXBwID0ge1xuICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICBzcGlubmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyJyksXG4gICAgY2FyZFRlbXBsYXRlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZFRlbXBsYXRlJyksXG4gICAgY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpLFxuICAgIGRheXNPZldlZWs6IFsnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnLCAnU3VuJ11cbiAgfTtcblxuICAgIGFwcC51cGRhdGVGb3JlY2FzdENhcmQgPSBmdW5jdGlvbihkYXRhKSB7XG5cbiAgICBsZXQgZGF0YUxhc3RVcGRhdGVkID0gbmV3IERhdGUoZGF0YS5jcmVhdGVkKTtcbiAgICBsZXQgc3VucmlzZSA9IGRhdGEuY2hhbm5lbC5hc3Ryb25vbXkuc3VucmlzZTtcbiAgICBsZXQgc3Vuc2V0ID0gZGF0YS5jaGFubmVsLmFzdHJvbm9teS5zdW5zZXQ7XG4gICAgbGV0IGN1cnJlbnQgPSBkYXRhLmNoYW5uZWwuaXRlbS5jb25kaXRpb247XG4gICAgbGV0IGh1bWlkaXR5ID0gZGF0YS5jaGFubmVsLmF0bW9zcGhlcmUuaHVtaWRpdHk7XG4gICAgbGV0IHdpbmQgPSBkYXRhLmNoYW5uZWwud2luZDtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kZXNjcmlwdGlvbicpLnRleHRDb250ZW50ID0gY3VycmVudC50ZXh0O1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmRhdGUnKS50ZXh0Q29udGVudCA9IGN1cnJlbnQuZGF0ZTtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC5pY29uJykuY2xhc3NMaXN0LmFkZChhcHAuZ2V0SWNvbkNsYXNzKGN1cnJlbnQuY29kZSkpO1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmN1cnJlbnQgLnRlbXBlcmF0dXJlIC52YWx1ZScpLnRleHRDb250ZW50ID1cbiAgICAgIE1hdGgucm91bmQoY3VycmVudC50ZW1wKTtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC5zdW5yaXNlJykudGV4dENvbnRlbnQgPSBzdW5yaXNlO1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmN1cnJlbnQgLnN1bnNldCcpLnRleHRDb250ZW50ID0gc3Vuc2V0O1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmN1cnJlbnQgLmh1bWlkaXR5JykudGV4dENvbnRlbnQgPVxuICAgICAgTWF0aC5yb3VuZChodW1pZGl0eSkgKyAnJSc7XG4gICAgYXBwLmNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCAud2luZCAudmFsdWUnKS50ZXh0Q29udGVudCA9XG4gICAgICBNYXRoLnJvdW5kKHdpbmQuc3BlZWQpO1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmN1cnJlbnQgLndpbmQgLmRpcmVjdGlvbicpLnRleHRDb250ZW50ID0gd2luZC5kaXJlY3Rpb247XG4gICAgbGV0IG5leHREYXlzID0gY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mdXR1cmUgLm9uZWRheScpO1xuICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgdG9kYXkgPSB0b2RheS5nZXREYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgbGV0IG5leHREYXkgPSBuZXh0RGF5c1tpXTtcbiAgICAgIGxldCBkYWlseSA9IGRhdGEuY2hhbm5lbC5pdGVtLmZvcmVjYXN0W2ldO1xuICAgICAgaWYgKGRhaWx5ICYmIG5leHREYXkpIHtcbiAgICAgICAgbmV4dERheS5xdWVyeVNlbGVjdG9yKCcuZGF0ZScpLnRleHRDb250ZW50ID1cbiAgICAgICAgICBhcHAuZGF5c09mV2Vla1soaSArIHRvZGF5KSAlIDddO1xuICAgICAgICBuZXh0RGF5LnF1ZXJ5U2VsZWN0b3IoJy5pY29uJykuY2xhc3NMaXN0LmFkZChhcHAuZ2V0SWNvbkNsYXNzKGRhaWx5LmNvZGUpKTtcbiAgICAgICAgbmV4dERheS5xdWVyeVNlbGVjdG9yKCcudGVtcC1oaWdoIC52YWx1ZScpLnRleHRDb250ZW50ID1cbiAgICAgICAgICBNYXRoLnJvdW5kKGRhaWx5LmhpZ2gpO1xuICAgICAgICBuZXh0RGF5LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wLWxvdyAudmFsdWUnKS50ZXh0Q29udGVudCA9XG4gICAgICAgICAgTWF0aC5yb3VuZChkYWlseS5sb3cpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXBwLmlzTG9hZGluZykge1xuICAgICAgYXBwLnNwaW5uZXIuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgICAgIGFwcC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgIGFwcC5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbmFwcC5nZXRJY29uQ2xhc3MgPSBmdW5jdGlvbih3ZWF0aGVyQ29kZSkge1xuICAgIC8vIFdlYXRoZXIgY29kZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLnlhaG9vLmNvbS93ZWF0aGVyL2RvY3VtZW50YXRpb24uaHRtbCNjb2Rlc1xuICAgIHdlYXRoZXJDb2RlID0gcGFyc2VJbnQod2VhdGhlckNvZGUpO1xuICAgIHN3aXRjaCAod2VhdGhlckNvZGUpIHtcbiAgICAgIGNhc2UgMjU6IFxuICAgICAgY2FzZSAzMjogXG4gICAgICBjYXNlIDMzOiBcbiAgICAgIGNhc2UgMzQ6IFxuICAgICAgY2FzZSAzNjogXG4gICAgICBjYXNlIDMyMDA6IFxuICAgICAgICByZXR1cm4gJ2NsZWFyLWRheSc7XG4gICAgICBjYXNlIDA6IFxuICAgICAgY2FzZSAxOiBcbiAgICAgIGNhc2UgMjogXG4gICAgICBjYXNlIDY6IFxuICAgICAgY2FzZSA4OiBcbiAgICAgIGNhc2UgOTogXG4gICAgICBjYXNlIDEwOiBcbiAgICAgIGNhc2UgMTE6IFxuICAgICAgY2FzZSAxMjogXG4gICAgICBjYXNlIDE3OiBcbiAgICAgIGNhc2UgMzU6IFxuICAgICAgY2FzZSA0MDogXG4gICAgICAgIHJldHVybiAncmFpbic7XG4gICAgICBjYXNlIDM6XG4gICAgICBjYXNlIDQ6XG4gICAgICBjYXNlIDM3OiBcbiAgICAgIGNhc2UgMzg6IFxuICAgICAgY2FzZSAzOTogXG4gICAgICBjYXNlIDQ1OiBcbiAgICAgIGNhc2UgNDc6XG4gICAgICAgIHJldHVybiAndGh1bmRlcnN0b3Jtcyc7XG4gICAgICBjYXNlIDU6IFxuICAgICAgY2FzZSA3OiBcbiAgICAgIGNhc2UgMTM6IFxuICAgICAgY2FzZSAxNDogXG4gICAgICBjYXNlIDE2OiBcbiAgICAgIGNhc2UgMTg6IFxuICAgICAgY2FzZSA0MTogXG4gICAgICBjYXNlIDQyOiBcbiAgICAgIGNhc2UgNDM6IFxuICAgICAgY2FzZSA0NjogXG4gICAgICAgIHJldHVybiAnc25vdyc7XG4gICAgICBjYXNlIDE1OiBcbiAgICAgIGNhc2UgMTk6IFxuICAgICAgY2FzZSAyMDogXG4gICAgICBjYXNlIDIxOiBcbiAgICAgIGNhc2UgMjI6IFxuICAgICAgICByZXR1cm4gJ2ZvZyc7XG4gICAgICBjYXNlIDI0OiBcbiAgICAgIGNhc2UgMjM6IFxuICAgICAgICByZXR1cm4gJ3dpbmR5JztcbiAgICAgIGNhc2UgMjY6IFxuICAgICAgY2FzZSAyNzogXG4gICAgICBjYXNlIDI4OiBcbiAgICAgIGNhc2UgMzE6IFxuICAgICAgICByZXR1cm4gJ2Nsb3VkeSc7XG4gICAgICBjYXNlIDI5OiBcbiAgICAgIGNhc2UgMzA6IFxuICAgICAgY2FzZSA0NDogXG4gICAgICAgIHJldHVybiAncGFydGx5LWNsb3VkeS1kYXknO1xuICAgIH1cbiAgfTtcblxuXG5cbiAgdmFyIGluaXRpYWxXZWF0aGVyRm9yZWNhc3QgPSB7XG4gICAga2V5OiAnMjQ1OTExNScsXG4gICAgbGFiZWw6ICdOZXcgWW9yaywgTlknLFxuICAgIGNyZWF0ZWQ6ICcyMDE2LTA3LTIyVDAxOjAwOjAwWicsXG4gICAgY2hhbm5lbDoge1xuICAgICAgYXN0cm9ub215OiB7XG4gICAgICAgIHN1bnJpc2U6IFwiNTo0MyBhbVwiLFxuICAgICAgICBzdW5zZXQ6IFwiODoyMSBwbVwiXG4gICAgICB9LFxuICAgICAgaXRlbToge1xuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICB0ZXh0OiBcIldpbmR5XCIsXG4gICAgICAgICAgZGF0ZTogXCJUaHUsIDIxIEp1bCAyMDE2IDA5OjAwIFBNIEVEVFwiLFxuICAgICAgICAgIHRlbXA6IDU2LFxuICAgICAgICAgIGNvZGU6IDI0XG4gICAgICAgIH0sXG4gICAgICAgIGZvcmVjYXN0OiBbXG4gICAgICAgICAge2NvZGU6IDQ0LCBoaWdoOiA4NiwgbG93OiA3MH0sXG4gICAgICAgICAge2NvZGU6IDQ0LCBoaWdoOiA5NCwgbG93OiA3M30sXG4gICAgICAgICAge2NvZGU6IDQsIGhpZ2g6IDk1LCBsb3c6IDc4fSxcbiAgICAgICAgICB7Y29kZTogMjQsIGhpZ2g6IDc1LCBsb3c6IDg5fSxcbiAgICAgICAgICB7Y29kZTogMjQsIGhpZ2g6IDg5LCBsb3c6IDc3fSxcbiAgICAgICAgICB7Y29kZTogNDQsIGhpZ2g6IDkyLCBsb3c6IDc5fSxcbiAgICAgICAgICB7Y29kZTogNDQsIGhpZ2g6IDg5LCBsb3c6IDc3fVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgYXRtb3NwaGVyZToge1xuICAgICAgICBodW1pZGl0eTogNTZcbiAgICAgIH0sXG4gICAgICB3aW5kOiB7XG4gICAgICAgIHNwZWVkOiAyNSxcbiAgICAgICAgZGlyZWN0aW9uOiAxOTVcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuYXBwLnVwZGF0ZUZvcmVjYXN0Q2FyZChpbml0aWFsV2VhdGhlckZvcmVjYXN0KTtcblxufSkoKTtcbiJdfQ==
