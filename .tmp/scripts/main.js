'use strict';

(function () {
  'use strict';

  var app = {
    todaysDate: new Date(),
    isLoading: true,
    forcastData: {},
    spinner: document.querySelector('.loader'),
    cardTemplate: document.querySelector('.cardTemplate'),
    container: document.querySelector('.main'),
    daysOfWeek: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']
  };

  app.updateForecastCard = function (data) {

    var dataLastUpdated = new Date(data.created);
    var sunrise = data.channel.astronomy.sunrise;
    var sunset = data.channel.astronomy.sunset;
    var current = data.channel.item.condition;
    var humidity = data.channel.atmosphere.humidity;
    var wind = data.channel.wind;
    app.cardTemplate.querySelector('.description').textContent = current.text;
    app.cardTemplate.querySelector('.date').textContent = current.date;
    app.cardTemplate.querySelector('.current .icon').classList.add(app.getIconClass(current.code));
    app.cardTemplate.querySelector('.current .temperature .value').textContent = Math.round(current.temp);
    app.cardTemplate.querySelector('.current .sunrise').textContent = sunrise;
    app.cardTemplate.querySelector('.current .sunset').textContent = sunset;
    app.cardTemplate.querySelector('.current .humidity').textContent = Math.round(humidity) + '%';
    app.cardTemplate.querySelector('.current .wind .value').textContent = Math.round(wind.speed);
    app.cardTemplate.querySelector('.current .wind .direction').textContent = wind.direction;
    var nextDays = cardTemplate.querySelectorAll('.future .oneday');
    var today = new Date();
    today = today.getDay();
    for (var i = 0; i < 5; i++) {
      var nextDay = nextDays[i];
      var daily = data.channel.item.forecast[i];
      if (daily && nextDay) {
        nextDay.querySelector('.date').textContent = app.daysOfWeek[i + today];
        nextDay.querySelector('.icon').classList.add(app.getIconClass(daily.code));
        nextDay.querySelector('.temp-high .value').textContent = Math.round(daily.high);
        nextDay.querySelector('.temp-low .value').textContent = Math.round(daily.low);
      }
    }
    if (app.isLoading) {
      app.spinner.setAttribute('hidden', true);
      app.container.removeAttribute('hidden');
      app.isLoading = false;
    }
  };

  app.getIconClass = function (weatherCode) {
    // Weather codes: https://developer.yahoo.com/weather/documentation.html#codes
    weatherCode = parseInt(weatherCode);
    switch (weatherCode) {
      case 25:
      case 32:
      case 33:
      case 34:
      case 36:
      case 3200:
        return 'clear-day';
      case 0:
      case 1:
      case 2:
      case 6:
      case 8:
      case 9:
      case 10:
      case 11:
      case 12:
      case 17:
      case 35:
      case 40:
        return 'rain';
      case 3:
      case 4:
      case 37:
      case 38:
      case 39:
      case 45:
      case 47:
        return 'thunderstorms';
      case 5:
      case 7:
      case 13:
      case 14:
      case 16:
      case 18:
      case 41:
      case 42:
      case 43:
      case 46:
        return 'snow';
      case 15:
      case 19:
      case 20:
      case 21:
      case 22:
        return 'fog';
      case 24:
      case 23:
        return 'windy';
      case 26:
      case 27:
      case 28:
      case 31:
        return 'cloudy';
      case 29:
      case 30:
      case 44:
        return 'partly-cloudy-day';
    }
  };

  app.getForcast = function (city) {

    var url = 'https://api.openweathermap.org/data/2.5/forecast?q=' + city + '&mode=json&appid=2bd757f23ca948f1953dc3f99d6b3c57';

    var xhr = new XMLHttpRequest();
    xhr.onload = function () {

      app.forcastData = JSON.parse(this.responseText);
      app.decontructData(app.forcastData);
    };

    xhr.open('GET', url, true);
    xhr.send();
  };

  app.decontructData = function (data) {
    var fiveDays = data.list;

    var days = [];

    var _loop = function _loop(counter) {

      var marker = app.todaysDate.getDate() + counter;

      days.push(fiveDays.filter(function (element) {

        var date = new Date(element.dt_txt).getDate();

        return date === marker;
      }));
    };

    for (var counter = 0; counter < 5; counter++) {
      _loop(counter);
    };

    app.updateForecastCard(app.initialiseForecast(days));
  };

  app.initialiseForecast = function (days) {

    var forecast = [];

    days.forEach(function (element, index) {

      var min = 0,
          max = 0,
          item = "",
          compare = -1,
          current = {},
          weather = [],
          counts = {};

      var dayArray = element;

      dayArray.forEach(function (innerElement, index) {

        var marker = index + 1;

        marker < dayArray.length ? app.todaysDate <= new Date(innerElement.dt_txt) || app.todaysDate >= new Date(innerElement.dt_txt) && app.todaysDate <= new Date(dayArray[marker].dt_txt) ? current = innerElement : null : null;

        index === 0 ? min = innerElement.main.temp_min : min = innerElement.main.temp_min <= min ? min : innerElement.main.temp_min;

        index === 0 ? max = innerElement.main.temp_max : max = innerElement.main.temp_max >= max ? max : innerElement.main.temp_max;

        var code = innerElement.weather[0].icon;

        counts[code] = counts[code] === undefined ? 1 : counts[code] + 1;

        counts[code] > compare ? (compare = counts[code], item = { current: current, code: innerElement.weather[0].icon.replace(/[a-z]/, ''),

          high: (max - 273.15) * 9 / 5 + 32,

          low: (min - 273.15) * 9 / 5 + 32 }) : null;
      });

      forecast.push(item);
    });

    var initialWeatherForecast = {

      key: app.forcastData.city.id,
      label: app.forcastData.city.name,
      created: new Date(),
      channel: {
        astronomy: {
          sunrise: "",
          sunset: ""
        },
        item: {
          condition: {
            text: forecast[0].current.weather[0].main,
            date: new Date(forecast[0].current.dt_txt),
            temp: (forecast[0].current.main.temp - 273.15) * 9 / 5 + 32,
            code: forecast[0].current.weather[0].icon.replace(/[a-z]/, '')
          },
          forecast: forecast
        },
        atmosphere: {
          humidity: forecast[0].current.main.humidity
        },
        wind: {
          speed: forecast[0].current.wind.speed,
          direction: ""
        }
      }
    };

    return initialWeatherForecast;
  };

  app.getForcast('London');
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYXBwIiwidG9kYXlzRGF0ZSIsIkRhdGUiLCJpc0xvYWRpbmciLCJmb3JjYXN0RGF0YSIsInNwaW5uZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXJkVGVtcGxhdGUiLCJjb250YWluZXIiLCJkYXlzT2ZXZWVrIiwidXBkYXRlRm9yZWNhc3RDYXJkIiwiZGF0YSIsImRhdGFMYXN0VXBkYXRlZCIsImNyZWF0ZWQiLCJzdW5yaXNlIiwiY2hhbm5lbCIsImFzdHJvbm9teSIsInN1bnNldCIsImN1cnJlbnQiLCJpdGVtIiwiY29uZGl0aW9uIiwiaHVtaWRpdHkiLCJhdG1vc3BoZXJlIiwid2luZCIsInRleHRDb250ZW50IiwidGV4dCIsImRhdGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJnZXRJY29uQ2xhc3MiLCJjb2RlIiwiTWF0aCIsInJvdW5kIiwidGVtcCIsInNwZWVkIiwiZGlyZWN0aW9uIiwibmV4dERheXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9kYXkiLCJnZXREYXkiLCJpIiwibmV4dERheSIsImRhaWx5IiwiZm9yZWNhc3QiLCJoaWdoIiwibG93Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwid2VhdGhlckNvZGUiLCJwYXJzZUludCIsImdldEZvcmNhc3QiLCJjaXR5IiwidXJsIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbmxvYWQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJkZWNvbnRydWN0RGF0YSIsIm9wZW4iLCJzZW5kIiwiZml2ZURheXMiLCJsaXN0IiwiZGF5cyIsImNvdW50ZXIiLCJtYXJrZXIiLCJnZXREYXRlIiwicHVzaCIsImZpbHRlciIsImVsZW1lbnQiLCJkdF90eHQiLCJpbml0aWFsaXNlRm9yZWNhc3QiLCJmb3JFYWNoIiwiaW5kZXgiLCJtaW4iLCJtYXgiLCJjb21wYXJlIiwid2VhdGhlciIsImNvdW50cyIsImRheUFycmF5IiwiaW5uZXJFbGVtZW50IiwibGVuZ3RoIiwibWFpbiIsInRlbXBfbWluIiwidGVtcF9tYXgiLCJpY29uIiwidW5kZWZpbmVkIiwicmVwbGFjZSIsImluaXRpYWxXZWF0aGVyRm9yZWNhc3QiLCJrZXkiLCJpZCIsImxhYmVsIiwibmFtZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxDQUFDLFlBQVc7QUFBRTs7QUFFVixNQUFNQSxNQUFNO0FBQ1pDLGdCQUFZLElBQUlDLElBQUosRUFEQTtBQUVaQyxlQUFXLElBRkM7QUFHWkMsaUJBQVksRUFIQTtBQUlaQyxhQUFTQyxTQUFTQyxhQUFULENBQXVCLFNBQXZCLENBSkc7QUFLWkMsa0JBQWNGLFNBQVNDLGFBQVQsQ0FBdUIsZUFBdkIsQ0FMRjtBQU1aRSxlQUFXSCxTQUFTQyxhQUFULENBQXVCLE9BQXZCLENBTkM7QUFPWkcsZ0JBQVksQ0FBRSxLQUFGLEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsRUFBNkIsS0FBN0IsRUFBb0MsS0FBcEMsRUFBMkMsS0FBM0M7QUFQQSxHQUFaOztBQVVBVixNQUFJVyxrQkFBSixHQUF5QixVQUFTQyxJQUFULEVBQWU7O0FBRXhDLFFBQUlDLGtCQUFrQixJQUFJWCxJQUFKLENBQVNVLEtBQUtFLE9BQWQsQ0FBdEI7QUFDQSxRQUFJQyxVQUFVSCxLQUFLSSxPQUFMLENBQWFDLFNBQWIsQ0FBdUJGLE9BQXJDO0FBQ0EsUUFBSUcsU0FBU04sS0FBS0ksT0FBTCxDQUFhQyxTQUFiLENBQXVCQyxNQUFwQztBQUNBLFFBQUlDLFVBQVVQLEtBQUtJLE9BQUwsQ0FBYUksSUFBYixDQUFrQkMsU0FBaEM7QUFDQSxRQUFJQyxXQUFXVixLQUFLSSxPQUFMLENBQWFPLFVBQWIsQ0FBd0JELFFBQXZDO0FBQ0EsUUFBSUUsT0FBT1osS0FBS0ksT0FBTCxDQUFhUSxJQUF4QjtBQUNBeEIsUUFBSVEsWUFBSixDQUFpQkQsYUFBakIsQ0FBK0IsY0FBL0IsRUFBK0NrQixXQUEvQyxHQUE2RE4sUUFBUU8sSUFBckU7QUFDQTFCLFFBQUlRLFlBQUosQ0FBaUJE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Q0FBNUIsRUFBK0JRLElBQS9CLENBQW9DRSxPQUFwQyxDQUE0QyxPQUE1QyxFQUFvRCxFQUFwRDtBQUpHLFdBRFA7QUFPTjdDLG9CQUFTQTtBQVBILFNBTEM7QUFjVHJCLG9CQUFZO0FBQ1JELG9CQUFVc0IsU0FBUyxDQUFULEVBQVl6QixPQUFaLENBQW9CaUUsSUFBcEIsQ0FBeUI5RDtBQUQzQixTQWRIO0FBaUJQRSxjQUFNO0FBQ0pXLGlCQUFPUyxTQUFTLENBQVQsRUFBWXpCLE9BQVosQ0FBb0JLLElBQXBCLENBQXlCVyxLQUQ1QjtBQUVKQyxxQkFBVztBQUZQO0FBakJDO0FBTG9CLEtBQS9COztBQTZCRixXQUFPc0Qsc0JBQVA7QUFFQyxHQTlFRDs7QUFpRkExRixNQUFJbUQsVUFBSixDQUFlLFFBQWY7QUFHQyxDQTVQRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICBjb25zdCBhcHAgPSB7XG4gICAgdG9kYXlzRGF0ZTogbmV3IERhdGUoKSxcbiAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgZm9yY2FzdERhdGE6e30sXG4gICAgc3Bpbm5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlcicpLFxuICAgIGNhcmRUZW1wbGF0ZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRUZW1wbGF0ZScpLFxuICAgIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4nKSxcbiAgICBkYXlzT2ZXZWVrOiBbICdTdW4nLCdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddXG4gIH07XG5cbiAgICBhcHAudXBkYXRlRm9yZWNhc3RDYXJkID0gZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgbGV0IGRhdGFMYXN0VXBkYXRlZCA9IG5ldyBEYXRlKGRhdGEuY3JlYXRlZCk7XG4gICAgbGV0IHN1bnJpc2UgPSBkYXRhLmNoYW5uZWwuYXN0cm9ub215LnN1bnJpc2U7XG4gICAgbGV0IHN1bnNldCA9IGRhdGEuY2hhbm5lbC5hc3Ryb25vbXkuc3Vuc2V0O1xuICAgIGxldCBjdXJyZW50ID0gZGF0YS5jaGFubmVsLml0ZW0uY29uZGl0aW9uO1xuICAgIGxldCBodW1pZGl0eSA9IGRhdGEuY2hhbm5lbC5hdG1vc3BoZXJlLmh1bWlkaXR5O1xuICAgIGxldCB3aW5kID0gZGF0YS5jaGFubmVsLndpbmQ7XG4gICAgYXBwLmNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZGVzY3JpcHRpb24nKS50ZXh0Q29udGVudCA9IGN1cnJlbnQudGV4dDtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJykudGV4dENvbnRlbnQgPSBjdXJyZW50LmRhdGU7XG4gICAgYXBwLmNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCAuaWNvbicpLmNsYXNzTGlzdC5hZGQoYXBwLmdldEljb25DbGFzcyhjdXJyZW50LmNvZGUpKTtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC50ZW1wZXJhdHVyZSAudmFsdWUnKS50ZXh0Q29udGVudCA9XG4gICAgICBNYXRoLnJvdW5kKGN1cnJlbnQudGVtcCk7XG4gICAgYXBwLmNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCAuc3VucmlzZScpLnRleHRDb250ZW50ID0gc3VucmlzZTtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC5zdW5zZXQnKS50ZXh0Q29udGVudCA9IHN1bnNldDtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC5odW1pZGl0eScpLnRleHRDb250ZW50ID1cbiAgICAgIE1hdGgucm91bmQoaHVtaWRpdHkpICsgJyUnO1xuICAgIGFwcC5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmN1cnJlbnQgLndpbmQgLnZhbHVlJykudGV4dENvbnRlbnQgPVxuICAgICAgTWF0aC5yb3VuZCh3aW5kLnNwZWVkKTtcbiAgICBhcHAuY2FyZFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50IC53aW5kIC5kaXJlY3Rpb24nKS50ZXh0Q29udGVudCA9IHdpbmQuZGlyZWN0aW9uO1xuICAgIGxldCBuZXh0RGF5cyA9IGNhcmRUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yQWxsKCcuZnV0dXJlIC5vbmVkYXknKTtcbiAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIHRvZGF5ID0gdG9kYXkuZ2V0RGF5KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGxldCBuZXh0RGF5ID0gbmV4dERheXNbaV07XG4gICAgICBsZXQgZGFpbHkgPSBkYXRhLmNoYW5uZWwuaXRlbS5mb3JlY2FzdFtpXTtcbiAgICAgIGlmIChkYWlseSAmJiBuZXh0RGF5KSB7XG4gICAgICAgIG5leHREYXkucXVlcnlTZWxlY3RvcignLmRhdGUnKS50ZXh0Q29udGVudCA9XG4gICAgICAgICAgYXBwLmRheXNPZldlZWtbKGkgKyB0b2RheSldO1xuICAgICAgICBuZXh0RGF5LnF1ZXJ5U2VsZWN0b3IoJy5pY29uJykuY2xhc3NMaXN0LmFkZChhcHAuZ2V0SWNvbkNsYXNzKGRhaWx5LmNvZGUpKTtcbiAgICAgICAgbmV4dERheS5xdWVyeVNlbGVjdG9yKCcudGVtcC1oaWdoIC52YWx1ZScpLnRleHRDb250ZW50ID1cbiAgICAgICAgICBNYXRoLnJvdW5kKGRhaWx5LmhpZ2gpO1xuICAgICAgICBuZXh0RGF5LnF1ZXJ5U2VsZWN0b3IoJy50ZW1wLWxvdyAudmFsdWUnKS50ZXh0Q29udGVudCA9XG4gICAgICAgICAgTWF0aC5yb3VuZChkYWlseS5sb3cpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXBwLmlzTG9hZGluZykge1xuICAgICAgYXBwLnNwaW5uZXIuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCB0cnVlKTtcbiAgICAgIGFwcC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgIGFwcC5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbmFwcC5nZXRJY29uQ2xhc3MgPSBmdW5jdGlvbih3ZWF0aGVyQ29kZSkge1xuICAgIC8vIFdlYXRoZXIgY29kZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLnlhaG9vLmNvbS93ZWF0aGVyL2RvY3VtZW50YXRpb24uaHRtbCNjb2Rlc1xuICAgIHdlYXRoZXJDb2RlID0gcGFyc2VJbnQod2VhdGhlckNvZGUpO1xuICAgIHN3aXRjaCAod2VhdGhlckNvZGUpIHtcbiAgICAgIGNhc2UgMjU6IFxuICAgICAgY2FzZSAzMjogXG4gICAgICBjYXNlIDMzOiBcbiAgICAgIGNhc2UgMzQ6IFxuICAgICAgY2FzZSAzNjogXG4gICAgICBjYXNlIDMyMDA6IFxuICAgICAgICByZXR1cm4gJ2NsZWFyLWRheSc7XG4gICAgICBjYXNlIDA6IFxuICAgICAgY2FzZSAxOiBcbiAgICAgIGNhc2UgMjogXG4gICAgICBjYXNlIDY6IFxuICAgICAgY2FzZSA4OiBcbiAgICAgIGNhc2UgOTogXG4gICAgICBjYXNlIDEwOiBcbiAgICAgIGNhc2UgMTE6IFxuICAgICAgY2FzZSAxMjogXG4gICAgICBjYXNlIDE3OiBcbiAgICAgIGNhc2UgMzU6IFxuICAgICAgY2FzZSA0MDogXG4gICAgICAgIHJldHVybiAncmFpbic7XG4gICAgICBjYXNlIDM6XG4gICAgICBjYXNlIDQ6XG4gICAgICBjYXNlIDM3OiBcbiAgICAgIGNhc2UgMzg6IFxuICAgICAgY2FzZSAzOTogXG4gICAgICBjYXNlIDQ1OiBcbiAgICAgIGNhc2UgNDc6XG4gICAgICAgIHJldHVybiAndGh1bmRlcnN0b3Jtcyc7XG4gICAgICBjYXNlIDU6IFxuICAgICAgY2FzZSA3OiBcbiAgICAgIGNhc2UgMTM6IFxuICAgICAgY2FzZSAxNDogXG4gICAgICBjYXNlIDE2OiBcbiAgICAgIGNhc2UgMTg6IFxuICAgICAgY2FzZSA0MTogXG4gICAgICBjYXNlIDQyOiBcbiAgICAgIGNhc2UgNDM6IFxuICAgICAgY2FzZSA0NjogXG4gICAgICAgIHJldHVybiAnc25vdyc7XG4gICAgICBjYXNlIDE1OiBcbiAgICAgIGNhc2UgMTk6IFxuICAgICAgY2FzZSAyMDogXG4gICAgICBjYXNlIDIxOiBcbiAgICAgIGNhc2UgMjI6IFxuICAgICAgICByZXR1cm4gJ2ZvZyc7XG4gICAgICBjYXNlIDI0OiBcbiAgICAgIGNhc2UgMjM6IFxuICAgICAgICByZXR1cm4gJ3dpbmR5JztcbiAgICAgIGNhc2UgMjY6IFxuICAgICAgY2FzZSAyNzogXG4gICAgICBjYXNlIDI4OiBcbiAgICAgIGNhc2UgMzE6IFxuICAgICAgICByZXR1cm4gJ2Nsb3VkeSc7XG4gICAgICBjYXNlIDI5OiBcbiAgICAgIGNhc2UgMzA6IFxuICAgICAgY2FzZSA0NDogXG4gICAgICAgIHJldHVybiAncGFydGx5LWNsb3VkeS1kYXknO1xuICAgIH1cbiAgfTtcblxuXG5hcHAuZ2V0Rm9yY2FzdCA9IGZ1bmN0aW9uKGNpdHkpIHtcblxuXG5sZXQgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7Y2l0eX0mbW9kZT1qc29uJmFwcGlkPTJiZDc1N2YyM2NhOTQ4ZjE5NTNkYzNmOTlkNmIzYzU3YDtcblxubGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkgeyBcbiAgIFxuICAgIGFwcC5mb3JjYXN0RGF0YSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgIGFwcC5kZWNvbnRydWN0RGF0YShhcHAuZm9yY2FzdERhdGEpO1xuXG4gIH07XG5cbiAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gIHhoci5zZW5kKCk7XG5cblxuXG5cbn1cblxuXG5cbmFwcC5kZWNvbnRydWN0RGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7IGNvbnN0IGZpdmVEYXlzID0gZGF0YS5saXN0IDtcblxubGV0IGRheXMgPSBbXSA7XG5cblxuZm9yICggbGV0IGNvdW50ZXIgPSAwOyBjb3VudGVyIDwgNSA7IGNvdW50ZXIrKyApIHtcbiAgICBcbiAgbGV0IG1hcmtlciA9IGFwcC50b2RheXNEYXRlLmdldERhdGUoKSArIGNvdW50ZXI7XG5cbiAgZGF5cy5wdXNoKGZpdmVEYXlzLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KXtcbiBcbiAgbGV0IGRhdGUgPSBuZXcgRGF0ZShlbGVtZW50LmR0X3R4dCkuZ2V0RGF0ZSgpO1xuICBcbiAgcmV0dXJuICBkYXRlID09PSBtYXJrZXIgO1xuICAgIFxuICB9KSk7XG4gICAgICBcbn07XG5cbmFwcC51cGRhdGVGb3JlY2FzdENhcmQoYXBwLmluaXRpYWxpc2VGb3JlY2FzdChkYXlzKSk7XG5cbn1cblxuXG5cbmFwcC5pbml0aWFsaXNlRm9yZWNhc3QgPSBmdW5jdGlvbiAoZGF5cykge1xuXG5cblxuICBsZXQgZm9yZWNhc3QgPSBbXTtcblxuICBkYXlzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCxpbmRleCkge1xuXG4gIGxldCBtaW4gPSAwLCBtYXggPSAwICwgaXRlbSA9IFwiXCIgLCBjb21wYXJlID0gLTEsIGN1cnJlbnQgPSB7fSx3ZWF0aGVyID1bXSAsY291bnRzID0ge307XG5cbiAgY29uc3QgZGF5QXJyYXkgPSBlbGVtZW50O1xuXG4gIGRheUFycmF5LmZvckVhY2goZnVuY3Rpb24oaW5uZXJFbGVtZW50LGluZGV4KXtcblxuICBsZXQgbWFya2VyID0gaW5kZXgrMTtcbiAgXG4gIG1hcmtlciA8IGRheUFycmF5Lmxlbmd0aCA/IGFwcC50b2RheXNEYXRlIDw9IG5ldyBEYXRlKGlubmVyRWxlbWVudC5kdF90eHQpIHx8IFxuXG4gIChhcHAudG9kYXlzRGF0ZSA+PSBuZXcgRGF0ZShpbm5lckVsZW1lbnQuZHRfdHh0KSAmJiBhcHAudG9kYXlzRGF0ZSA8PSBuZXcgRGF0ZShkYXlBcnJheVttYXJrZXJdLmR0X3R4dCkpXG5cbiAgPyAgY3VycmVudCA9IGlubmVyRWxlbWVudCA6IG51bGwgOiBudWxsO1xuXG4gIGluZGV4ID09PSAwID8gbWluID0gaW5uZXJFbGVtZW50Lm1haW4udGVtcF9taW4gOiAgXG4gIG1pbiA9IGlubmVyRWxlbWVudC5tYWluLnRlbXBfbWluIDw9IG1pbiA/IG1pbiA6IGlubmVyRWxlbWVudC5tYWluLnRlbXBfbWluIDtcblxuICBpbmRleCA9PT0gMCA/IG1heCA9IGlubmVyRWxlbWVudC5tYWluLnRlbXBfbWF4IDpcbiAgbWF4ID0gaW5uZXJFbGVtZW50Lm1haW4udGVtcF9tYXggPj0gbWF4ID8gbWF4IDogaW5uZXJFbGVtZW50Lm1haW4udGVtcF9tYXggO1xuXG4gIGxldCBjb2RlID0gaW5uZXJFbGVtZW50LndlYXRoZXJbMF0uaWNvbjtcblxuICBjb3VudHNbY29kZV0gPSBjb3VudHNbY29kZV0gPT09IHVuZGVmaW5lZCA/ICAxIDogIGNvdW50c1tjb2RlXSArIDEgO1xuXG4gIGNvdW50c1tjb2RlXSA+IGNvbXBhcmUgPyAoY29tcGFyZSA9IGNvdW50c1tjb2RlXSAsIFxuXG4gIGl0ZW0gPSB7Y3VycmVudDpjdXJyZW50LCBjb2RlOiBpbm5lckVsZW1lbnQud2VhdGhlclswXS5pY29uLnJlcGxhY2UoL1thLXpdLywnJykgLCBcblxuICBoaWdoOiAoKCBtYXggLSAyNzMuMTUpICogOS81KSArIDMyICwgXG5cbiAgbG93OiAoKCBtaW4gLSAyNzMuMTUpICogOS81KSArIDMyIH0gKSA6IG51bGwgO1xuXG4gIH0pO1xuICAgXG4gIGZvcmVjYXN0LnB1c2goaXRlbSk7XG5cbiAgfSk7XG5cblxuICBjb25zdCBpbml0aWFsV2VhdGhlckZvcmVjYXN0ID0ge1xuICBcbiAga2V5OiBhcHAuZm9yY2FzdERhdGEuY2l0eS5pZCxcbiAgICBsYWJlbDogYXBwLmZvcmNhc3REYXRhLmNpdHkubmFtZSxcbiAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLFxuICAgIGNoYW5uZWw6IHtcbiAgICAgIGFzdHJvbm9teToge1xuICAgICAgICBzdW5yaXNlOiBcIlwiLFxuICAgICAgICBzdW5zZXQ6IFwiXCJcbiAgICAgIH0sXG4gICAgICBpdGVtOiB7XG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIHRleHQ6IGZvcmVjYXN0WzBdLmN1cnJlbnQud2VhdGhlclswXS5tYWluLFxuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKGZvcmVjYXN0WzBdLmN1cnJlbnQuZHRfdHh0KSxcbiAgICAgICAgICB0ZW1wOiAoKCBmb3JlY2FzdFswXS5jdXJyZW50Lm1haW4udGVtcCAtIDI3My4xNSkgKiA5LzUpICsgMzIsXG4gICAgICAgICAgY29kZTogZm9yZWNhc3RbMF0uY3VycmVudC53ZWF0aGVyWzBdLmljb24ucmVwbGFjZSgvW2Etel0vLCcnKVxuICAgICAgICB9LFxuICAgICAgZm9yZWNhc3Q6Zm9yZWNhc3RcbiAgICB9LFxuICAgIGF0bW9zcGhlcmU6IHtcbiAgICAgICAgaHVtaWRpdHk6IGZvcmVjYXN0WzBdLmN1cnJlbnQubWFpbi5odW1pZGl0eVxuICAgICAgfSxcbiAgICAgIHdpbmQ6IHtcbiAgICAgICAgc3BlZWQ6IGZvcmVjYXN0WzBdLmN1cnJlbnQud2luZC5zcGVlZCxcbiAgICAgICAgZGlyZWN0aW9uOiBcIlwiXG4gICAgICB9XG4gICAgfVxuICB9XG5cbnJldHVybiBpbml0aWFsV2VhdGhlckZvcmVjYXN0O1xuXG59XG5cblxuYXBwLmdldEZvcmNhc3QoJ0xvbmRvbicpO1xuXG5cbn0pKCk7XG4iXX0=
